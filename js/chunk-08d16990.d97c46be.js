(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08d16990"],{3131:function(t,a,e){"use strict";var c=e("f92c"),o=e.n(c);o.a},d2f1:function(t,a,e){"use strict";e.r(a);var c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Navbar"),e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("h3",[t._v(t._s(t.product.title))]),e("div",{staticClass:"container mt-20"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 col-lg-8"},[e("img",{staticClass:"bg-item",attrs:{src:t.product.imageUrl[0]}})]),e("div",{staticClass:"col-md-12 col-lg-4"},[e("h3",{staticClass:"font-weight-bold"},[t._v(t._s(t.product.title))]),e("div",{staticClass:"d-flex mt-4 mb-4 justify-content-center"},[e("span",{staticClass:"font-weight-bold price-text"},[t._v("特價"+t._s(t.product.price)+"元")]),e("span",{staticClass:"ml-3 text-secondary origin-price-text"},[t._v("原價"+t._s(t.product.origin_price)+"元")])]),e("div",{staticClass:"d-flex justify-content-center"},[e("span",{staticClass:"mt-3 mr-1"},[t._v("數量")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"rounded-0 text-center form-control num-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?e:e[0])}}},t._l(9,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" "+t._s(t.product.unit)+" ")])})),0)]),e("button",{staticClass:"btn btn-primary bg-pink btn-lg btn-block",attrs:{type:"button"},on:{click:function(a){return t.addToCart(t.product.id,t.product.num)}}},[e("i",{staticClass:"fas fa-shopping-bag fa-lg text-white",staticStyle:{"font-size":"20px"}}),t._v(" 放入購物車")]),e("button",{staticClass:"btn btn-outline-secondary btn-lg btn-block",attrs:{type:"button"},on:{click:function(a){return t.addFavorite(t.product.title,t.product.id)}}},[t.checkFavStatus(t.product.id)?t._e():e("i",{staticClass:"far fa-heart",staticStyle:{"font-size":"20px"}}),t.checkFavStatus(t.product.id)?e("i",{staticClass:"fas fa-heart",staticStyle:{"font-size":"20px"}}):t._e(),t._v(" 收藏商品")]),e("div",{staticClass:"col-12 mt-5"},[e("h5",{staticClass:"font-weight-bold"},[t._v("商品介紹")]),e("hr"),e("p",[t._v(t._s(t.product.content))])])]),e("div",{staticClass:"col-12"},[e("h5",{staticClass:"mt-5 font-weight-bold"},[t._v("你可能也會喜歡")]),e("hr"),e("div",{staticClass:"row"},t._l(t.filterProduct,(function(a){return e("div",{key:a.id,staticClass:"col-md-2 card-margin card-size"},[e("div",{staticClass:"card rounded-0 border-0",on:{click:function(e){return t.goProduct(a.id)}}},[e("img",{staticClass:"card-img-top rounded-0",attrs:{src:a.imageUrl,alt:""}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title like-font font-weight-bold"},[t._v(t._s(a.title))]),e("p",{staticClass:"card-text text-secondary"}),e("div",{staticClass:"d-flex price-margin"}),e("span",{staticClass:"font-weight-bold"}),e("del",{staticClass:"ml-2 text-secondary",staticStyle:{"font-size":"12px"}})])])])})),0)])])]),e("Footer")],1)},o=[],s=(e("99af"),e("4de4"),e("4160"),e("c975"),e("45fc"),e("a434"),e("159b"),e("d178")),i=e("fd2d"),n=e("1157"),r=e.n(n);console.log(r.a);var d={components:{Footer:i["a"],Navbar:s["a"]},data:function(){return{product:{num:1,imageUrl:[]},categoryData:"",filterProduct:{},status:{loadingItem:""},favoriteItem:JSON.parse(localStorage.getItem("favoriteItemId"))||[]}},created:function(){var t=this;this.isLoading=!0;var a=this.$route.params.id,e="".concat("https://course-ec-api.hexschool.io/api/").concat("f137c3aa-1698-4ffb-a6e2-7fe6ef1509c7","/ec/product/").concat(a);this.$http.get(e).then((function(a){t.isLoading=!1,t.product=a.data.data,t.categoryData=a.data.data.category,t.getProducts(t.categoryData)}))},methods:{goProduct:function(t){this.$router.push("/product/".concat(t)),window.location.reload()},getCart:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/api/").concat("f137c3aa-1698-4ffb-a6e2-7fe6ef1509c7","/ec/shopping");t.isLoading=!0,t.$http.get(a).then((function(a){t.cart=a.data.data,console.log("購物車內容",t.cart),t.countTotal=t.cart.length,0===t.cart.length?t.isCartShow=!1:t.isCartShow=!0,t.isLoading=!1}))},addToCart:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t.id;var c="".concat("https://course-ec-api.hexschool.io/api/").concat("f137c3aa-1698-4ffb-a6e2-7fe6ef1509c7","/ec/shopping"),o={product:t,quantity:e};this.$http.post(c,o).then((function(){a.status.loadingItem="",a.$bus.$emit("message:push","加入購物車成功囉，好棒ヽ(＾Д＾)ﾉ ","success"),a.getCart(),a.$bus.$emit("updateCart")})).catch((function(t){a.status.loadingItem="";var e=t.response.data.errors;e.forEach((function(t){a.$bus.$emit("message:push","加入失敗惹，好糗Σ( ° △ °|||)︴\n            ".concat(t),"danger")}))}))},addFavorite:function(t,a){var e=this;e.productId=a,-1===e.favoriteItem.indexOf(e.productId)?e.favoriteItem.push(e.productId):e.favoriteItem.splice(e.favoriteItem.indexOf(e.productId),1),localStorage.setItem("favoriteItemId",JSON.stringify(e.favoriteItem)),e.$bus.$emit("updateFavItem",e.favoriteItem)},checkFavStatus:function(t){var a=this;return!!a.favoriteItem.some((function(a){return a===t}))},getProducts:function(t){var a=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("f137c3aa-1698-4ffb-a6e2-7fe6ef1509c7","/ec/products");a.$http.get(e).then((function(e){a.products=e.data.data,a.filterProduct=a.products.filter((function(a,e,c){return a.category===t}))}))}},mounted:function(){var t=this;t.$bus.$on("returnFavItem",(function(a){t.checkFavStatus(a)}))}},u=d,l=(e("3131"),e("2877")),f=Object(l["a"])(u,c,o,!1,null,"1871a6f1",null);a["default"]=f.exports},f92c:function(t,a,e){}}]);
//# sourceMappingURL=chunk-08d16990.d97c46be.js.map