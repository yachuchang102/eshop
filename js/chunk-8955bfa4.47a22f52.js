(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8955bfa4"],{"14c3":function(t,e,a){var o=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"25f0":function(t,e,a){"use strict";var o=a("6eeb"),n=a("825a"),i=a("d039"),c=a("ad6d"),r="toString",s=RegExp.prototype,l=s[r],u=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=r;(u||d)&&o(RegExp.prototype,r,(function(){var t=n(this),e=String(t.source),a=t.flags,o=String(void 0===a&&t instanceof RegExp&&!("flags"in s)?c.call(t):a);return"/"+e+"/"+o}),{unsafe:!0})},"2d6a":function(t,e,a){},"44e7":function(t,e,a){var o=a("861d"),n=a("c6b6"),i=a("b622"),c=i("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==n(t))}},"466d":function(t,e,a){"use strict";var o=a("d784"),n=a("825a"),i=a("50c4"),c=a("1d80"),r=a("8aa5"),s=a("14c3");o("match",1,(function(t,e,a){return[function(e){var a=c(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,a):new RegExp(e)[t](String(a))},function(t){var o=a(e,t,this);if(o.done)return o.value;var c=n(t),l=String(this);if(!c.global)return s(c,l);var u=c.unicode;c.lastIndex=0;var d,f=[],p=0;while(null!==(d=s(c,l))){var g=String(d[0]);f[p]=g,""===g&&(c.lastIndex=r(l,i(c.lastIndex),u)),p++}return 0===p?null:f}]}))},4874:function(t,e,a){"use strict";var o=a("2d6a"),n=a.n(o);n.a},"4d63":function(t,e,a){var o=a("83ab"),n=a("da84"),i=a("94ca"),c=a("7156"),r=a("9bf2").f,s=a("241c").f,l=a("44e7"),u=a("ad6d"),d=a("9f7f"),f=a("6eeb"),p=a("d039"),g=a("69f3").set,v=a("2626"),m=a("b622"),h=m("match"),x=n.RegExp,b=x.prototype,_=/a/g,C=/a/g,I=new x(_)!==_,y=d.UNSUPPORTED_Y,E=o&&i("RegExp",!I||y||p((function(){return C[h]=!1,x(_)!=_||x(C)==C||"/a/i"!=x(_,"i")})));if(E){var P=function(t,e){var a,o=this instanceof P,n=l(t),i=void 0===e;if(!o&&n&&t.constructor===P&&i)return t;I?n&&!i&&(t=t.source):t instanceof P&&(i&&(e=u.call(t)),t=t.source),y&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var r=c(I?new x(t,e):x(t,e),o?this:b,P);return y&&a&&g(r,{sticky:a}),r},k=function(t){t in P||r(P,t,{configurable:!0,get:function(){return x[t]},set:function(e){x[t]=e}})},R=s(x),S=0;while(R.length>S)k(R[S++]);b.constructor=P,P.prototype=b,f(n,"RegExp",P)}v("RegExp")},6547:function(t,e,a){var o=a("a691"),n=a("1d80"),i=function(t){return function(e,a){var i,c,r=String(n(e)),s=o(a),l=r.length;return s<0||s>=l?t?"":void 0:(i=r.charCodeAt(s),i<55296||i>56319||s+1===l||(c=r.charCodeAt(s+1))<56320||c>57343?t?r.charAt(s):i:t?r.slice(s,s+2):c-56320+(i-55296<<10)+65536)}};t.exports={codeAt:i(!1),charAt:i(!0)}},7156:function(t,e,a){var o=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var i,c;return n&&"function"==typeof(i=e.constructor)&&i!==a&&o(c=i.prototype)&&c!==a.prototype&&n(t,c),t}},"8aa5":function(t,e,a){"use strict";var o=a("6547").charAt;t.exports=function(t,e,a){return e+(a?o(t,e).length:1)}},9263:function(t,e,a){"use strict";var o=a("ad6d"),n=a("9f7f"),i=RegExp.prototype.exec,c=String.prototype.replace,r=i,s=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=s||u||l;d&&(r=function(t){var e,a,n,r,d=this,f=l&&d.sticky,p=o.call(d),g=d.source,v=0,m=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,v++),a=new RegExp("^(?:"+g+")",p)),u&&(a=new RegExp("^"+g+"$(?!\\s)",p)),s&&(e=d.lastIndex),n=i.call(f?a:d,m),f?n?(n.input=n.input.slice(v),n[0]=n[0].slice(v),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:s&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),u&&n&&n.length>1&&c.call(n[0],a,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n}),t.exports=r},"9f7f":function(t,e,a){"use strict";var o=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=o((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var o=a("23e7"),n=a("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,a){"use strict";var o=a("825a");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d784:function(t,e,a){"use strict";a("ac1f");var o=a("6eeb"),n=a("d039"),i=a("b622"),c=a("9263"),r=a("9112"),s=i("species"),l=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,d){var g=i(t),v=!n((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),m=v&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[s]=function(){return a},a.flags="",a[g]=/./[g]),a.exec=function(){return e=!0,null},a[g](""),!e}));if(!v||!m||"replace"===t&&(!l||!u||f)||"split"===t&&!p){var h=/./[g],x=a(g,""[t],(function(t,e,a,o,n){return e.exec===c?v&&!n?{done:!0,value:h.call(e,a,o)}:{done:!0,value:t.call(a,e,o)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=x[0],_=x[1];o(String.prototype,t,b),o(RegExp.prototype,g,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}d&&r(RegExp.prototype[g],"sham",!0)}},e6dc:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("Navbar"),a("div",{staticClass:"container"},[t.isLoading?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 col-lg-2 col-sm-12 left-list"},[a("ul",{staticClass:"list-group mt-10 sticky-top"},t._l(t.local.list,(function(e,o){return a("li",{key:o,staticClass:"list-group-item list-group-item-action views",class:{active:t.select==e},on:{click:function(a){return a.preventDefault(),t.getLocal(e)}}},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"row col-md-10 d-flex mt-10 right-content"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 mb-4 justify-content-center product-card"},[a("div",{staticClass:"card border-0"},[a("span",{staticClass:"badge badge-secondary float-right ml-2 col-md-3"},[t._v(t._s(e.category))]),a("div",{staticClass:"product-img",staticStyle:{height:"150px","background-size":"100%","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl[0]+")"}}),a("div",{staticClass:"card-body"},[a("h6",{staticClass:"card-title"},[a("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(e.title))])]),a("p",{staticClass:"card-text",domProps:{innerHTML:t._s(e.description)}},[t._v(" 內容")]),a("div",[e.price?t._e():a("div",{staticClass:"h5 text-center"},[t._v(" "+t._s(e.origin_price)+"元 ")]),a("div",{staticClass:"h6 text-center"},[t._v(" $ "+t._s(e.price)+" ")]),a("div",{staticClass:"float-right favIcon"},[t.checkFavStatus(e)?t._e():a("i",{staticClass:"far fa-heart fa-item",staticStyle:{"font-size":"25px"},on:{click:function(a){return t.addFavorite(e,e.id)}}}),t.checkFavStatus(e)?a("i",{staticClass:"fas fa-heart fa-item",staticStyle:{"font-size":"25px"},on:{click:function(a){return t.addFavorite(e,e.id)}}}):t._e()])])]),a("div",{staticClass:"card-footer bg-transparent d-flex"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button",disabled:t.status.loadingItem===e.id},on:{click:function(a){return t.goPage(e.id)}}},[t.status.loadingItem===e.id?a("i",{staticClass:"spinner-grow spinner-grow-sm"}):t._e(),t._v(" 查看更多 ")]),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){return t.addToCart(e)}}},[t.status.loadingItem===e.id?a("i",{staticClass:"spinner-grow spinner-grow-sm"}):t._e(),t._v(" 加到購物車 ")])])])])})),0)]),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" "+t._s(t.tempProduct.title)+" ")]),t._m(0)]),a("div",{staticClass:"modal-body"},[a("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl[0],alt:""}}),a("blockquote",{staticClass:"blockquote mt-3"},[a("p",{staticClass:"mb-0",domProps:{innerHTML:t._s(t.tempProduct.content)}}),a("footer",{staticClass:"blockquote-footer text-right"},[t._v(" "+t._s(t.tempProduct.description)+" ")])]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.tempProduct.price?t._e():a("div",{staticClass:"h4"},[t._v(" "+t._s(t.tempProduct.origin_price)+" 元 ")]),t.tempProduct.price?a("del",{staticClass:"h6"},[t._v("原價 "+t._s(t.tempProduct.origin_price)+" 元")]):t._e(),t.tempProduct.price?a("div",{staticClass:"h4"},[t._v(" 現在只要 "+t._s(t.tempProduct.price)+" 元 ")]):t._e()]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.num,expression:"tempProduct.num"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.tempProduct,"num",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v(" 請選擇數量 ")]),t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+" "+t._s(t.tempProduct.unit)+" ")])}))],2)]),a("div",{staticClass:"modal-footer"},[t.tempProduct.num?a("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v(" 小計 "),a("strong",[t._v(t._s(t.tempProduct.num*t.tempProduct.price))]),t._v(" 元 ")]):t._e(),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.addToCart(t.tempProduct.id,t.tempProduct.num)}}},[t.tempProduct.id===t.status.loadingItem?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])])])])])]),a("Footer")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],i=(a("99af"),a("4de4"),a("4160"),a("c975"),a("45fc"),a("a434"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("159b"),a("d178")),c=a("fd2d"),r={name:"Products",components:{Footer:c["a"],Navbar:i["a"]},data:function(){return{select:"全部商品",tempProduct:{num:0,imageUrl:[]},products:[],productId:"",isLoading:!1,status:{loadingItem:""},cart:[],cartTotal:0,local:{list:["全部商品","精華液","眼唇保養","清潔系列"],select:"全部商品"},favItem:"",favoriteItem:JSON.parse(localStorage.getItem("favoriteItemId"))||[]}},methods:{goPage:function(t){console.log(this.$router),this.$router.push("/product/".concat(t))},checkId:function(t){console.log(t)},addFavorite:function(t,e){var a=this;a.productId=e,console.log(a.productId),-1===a.favoriteItem.indexOf(a.productId)?(t.favItem=!0,a.favoriteItem.push(a.productId)):(a.favoriteItem.splice(a.favoriteItem.indexOf(a.productId),1),t.favItem=!1),console.log(a.favoriteItem),localStorage.setItem("favoriteItemId",JSON.stringify(a.favoriteItem)),a.$bus.$emit("updateFavItem",a.favoriteItem)},getDetailed:function(t){var e=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("f137c3aa-1698-4ffb-a6e2-7fe6ef1509c7","/ec/product/").concat(t);this.$http.get(a).then((function(t){e.tempProduct=t.data.data,e.$set(e.tempProduct,"num",0),$("#productModal").modal("show"),e.isLoading=!1}))},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.isLoading=!0;var o="".concat("https://course-ec-api.hexschool.io/api/").concat("f137c3aa-1698-4ffb-a6e2-7fe6ef1509c7","/ec/products?page=").concat(e);a.$http.get(o).then((function(t){if(a.isLoading=!1,console.log(a.local.select),"全部商品"!==a.local.select){var e=t.data.data.filter((function(t){return t.category===a.local.select}));a.products=e}else a.products=t.data.data,console.log(t.data.data)})).catch((function(e){console.log(e),t.isLoading=!1}))},getLocal:function(t){var e=this;e.local.select=t,e.select=t,e.getProducts()},getCart:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("f137c3aa-1698-4ffb-a6e2-7fe6ef1509c7","/ec/shopping");t.isLoading=!0,t.$http.get(e).then((function(e){t.cart=e.data.data,console.log("購物車內容",t.cart),t.countTotal=t.cart.length,0===t.cart.length?t.isCartShow=!1:t.isCartShow=!0,t.isLoading=!1}))},addToCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t.id;var o="".concat("https://course-ec-api.hexschool.io/api/").concat("f137c3aa-1698-4ffb-a6e2-7fe6ef1509c7","/ec/shopping"),n={product:t.id,quantity:a};this.$http.post(o,n).then((function(){e.status.loadingItem="",e.$bus.$emit("message:push","加入購物車成功囉，好棒ヽ(＾Д＾)ﾉ ","success"),$("#productModal").modal("hide"),e.getCart(),e.$bus.$emit("updateCart")})).catch((function(t){e.status.loadingItem="";var a=t.response.data.errors;a.forEach((function(t){e.$bus.$emit("message:push","加入失敗惹，好糗Σ( ° △ °|||)︴\n            ".concat(t),"danger")})),$("#productModal").modal("hide")}))},getCookie:function(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=e?unescape(e[2]):null},delCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var a=this.getCookie(t);null!=a&&(document.cookie=t+"="+a+";expires="+e.toGMTString())},checkFavStatus:function(t){var e=this;return!!e.favoriteItem.some((function(e){return e===t.id}))}},created:function(){this.isLoading=!0,this.local.select=this.getCookie("productItem"),console.log("select:"+this.local.select),this.local.select||(this.local.select="全部商品"),this.getLocal(this.local.select),this.getProducts(),this.delCookie("productItem")},mounted:function(){var t=this;t.$bus.$on("returnFavItem",(function(e){t.getProducts(),t.checkFavStatus(e)}))}},s=r,l=(a("4874"),a("2877")),u=Object(l["a"])(s,o,n,!1,null,"35318419",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-8955bfa4.47a22f52.js.map